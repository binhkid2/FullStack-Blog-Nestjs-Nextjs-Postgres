{% set pages = (result.total / result.pageSize) | round(0, "ceil") %}

{% if pages > 1 %}
<div class="flex flex-wrap items-center justify-between gap-3 border-t border-zinc-200 pt-4">
  <p class="text-sm text-zinc-600">Page {{ result.page }} of {{ pages }}</p>
  <div class="flex flex-wrap gap-2">
    {% if result.page > 1 %}
    <button
      type="button"
      class="rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium text-zinc-700 transition hover:border-teal-500 hover:text-teal-700"
      hx-get="/blog-posts/partials/grid?page={{ result.page - 1 }}&pageSize={{ result.pageSize }}&q={{ query.q | urlencode }}&tags={{ query.tags | urlencode }}&category={{ query.category | urlencode }}&sort={{ query.sort }}"
      hx-target="#post-grid-container"
      hx-swap="innerHTML"
    >
      Prev
    </button>
    {% endif %}

    {% for n in range(1, pages + 1) %}
    <button
      type="button"
      class="rounded-lg border px-3 py-1.5 text-sm font-medium transition {% if n == result.page %}border-teal-600 bg-teal-600 text-white{% else %}border-zinc-200 bg-white text-zinc-700 hover:border-teal-500 hover:text-teal-700{% endif %}"
      hx-get="/blog-posts/partials/grid?page={{ n }}&pageSize={{ result.pageSize }}&q={{ query.q | urlencode }}&tags={{ query.tags | urlencode }}&category={{ query.category | urlencode }}&sort={{ query.sort }}"
      hx-target="#post-grid-container"
      hx-swap="innerHTML"
    >
      {{ n }}
    </button>
    {% endfor %}

    {% if result.page < pages %}
    <button
      type="button"
      class="rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm font-medium text-zinc-700 transition hover:border-teal-500 hover:text-teal-700"
      hx-get="/blog-posts/partials/grid?page={{ result.page + 1 }}&pageSize={{ result.pageSize }}&q={{ query.q | urlencode }}&tags={{ query.tags | urlencode }}&category={{ query.category | urlencode }}&sort={{ query.sort }}"
      hx-target="#post-grid-container"
      hx-swap="innerHTML"
    >
      Next
    </button>
    {% endif %}
  </div>
</div>
{% endif %}
